---
import BaseLayout from '../../layouts/BaseLayout.astro';
import Header from '../../components/common/Header.astro';
import Footer from '../../components/common/Footer.astro';
import CTASection from '../../components/common/CTASection.astro';
import FAQSection from '../../components/common/FAQSection.astro';
import PortfolioCard from '../../components/common/PortfolioCard.astro';

// Testimonials from Google Maps Reviews (same as home page)
const testimonials = [
  { name: "Trisna A.K", text: "Kualitas premium, pengerjaan cepat, fast respon, harga bisa bisik-bisik, ownernya bisa maen drum. Pokonya mantullll bintang 5", rating: 5 },
  { name: "Cahyani Linda", text: "Hasil bagus memuaskan, team ramah, desingnya bagus pokoknya memuaskan deh", rating: 5 },
  { name: "Neneng Susanti", text: "Hasilnya sesuai dengan keinginan, kwalitas bahannya juga ok, ga nyesel udah pake jasa desain interior nya, recommended banget", rating: 5 },
  { name: "Didik Hermansyah", text: "Recomended Aman, terpercaya.", rating: 5 },
  { name: "Naufal Taufikurrachman", text: "Lemari nya ok, bahan nya juga bagus, kuat kokoh. Pokok nya recommended üëç", rating: 5 },
  { name: "Oonye Cafe Bogor", text: "Terpercaya", rating: 5 },
  { name: "Lukman Nurhakim", text: "Terbaik, ramah dalam konsultasi", rating: 5 },
  { name: "Nabila Stwn", text: "Bikin lemari disini worth it banget, pelayanannya ramah, team nya satset. disini juga ada garansi nya, aftersales oke. secara bahan, harga semua nya transparant", rating: 5 },
  { name: "Rexia Rex", text: "Top markotop pokoknya", rating: 5 },
  { name: "Ardi Ardi Ansyah", text: "Hasil nya rapih & bagus üëçüëçüëç", rating: 5 },
  { name: "Look-Man", text: "Owner nya ramah, hasilnya bagus. Terimakasih SJD", rating: 5 },
  { name: "Nurma Yani", text: "Sangat memuaskan!", rating: 5 },
  { name: "Mustika Jaya", text: "Pengerjaan rapi, harga ok, dan pelayanan after sales servicenya baik üôå", rating: 5 },
  { name: "Jojo Handayani", text: "Terbaik, rekomen yang mau cari custom interior coba kesini deh bagus hasilnya memuaskan üëåüëç", rating: 5 },
  { name: "Moch Rizal", text: "Sangat recommended üëç", rating: 5 },
  { name: "Siti Hasanah", text: "Sangat di rekomendasikan bagi yang ingin membuat kitchenset, owner nya baikk sekali.", rating: 5 }
];

// Generate static paths for SSG
export function getStaticPaths() {
  return [
    { params: { slug: 'modern-tropical-house' } }
  ];
}

const { slug } = Astro.params;

// Mock data - in production, fetch from Strapi based on slug
const project = {
  title: "Modern Tropical House",
  category: "Portofolio",
  mainImage: "/images/portfolio-main.png",
  images: [
    "/images/portfolio-main.png",
    "/images/portfolio-2.png",
    "/images/portfolio-3.png",
    "/images/portfolio-4.png"
  ],
  description: "Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.",
  category_tag: "Retail Interior Design",
  client: "Budi Triatmojo",
  location: "Bogor, Jawa Barat",
  year: "2026",
  budget: "Rp. 50.000.000",
  services: [
    "Retail Concept Development",
    "Store Planning & Layout Design",
    "Custom Furniture & Display Fixtures",
    "Lighting & Materials Selection"
  ]
};

const relatedProjects = [
  { title: "Modern Tropical House", category: "RUMAH TINGGAL", location: "Jakarta Selatan", area: "350 m¬≤", style: "Modern Minimalis", image: "/images/portfolio-main.png", slug: "modern-tropical-house" },
  { title: "Modern Tropical House", category: "RUMAH TINGGAL", location: "Jakarta Selatan", area: "350 m¬≤", style: "Modern Minimalis", image: "/images/portfolio-2.png", slug: "modern-tropical-house" },
  { title: "Modern Tropical House", category: "RUMAH TINGGAL", location: "Jakarta Selatan", area: "350 m¬≤", style: "Modern Minimalis", image: "/images/portfolio-3.png", slug: "modern-tropical-house" }
];
---

<BaseLayout
  title={`${project.title} - Portfolio SJD Interior`}
  description={project.description}
>
  <Header />

  <main class="bg-white">
    <!-- Hero Section -->
    <section class="relative h-[70vh] min-h-[500px] max-h-[650px] w-full overflow-hidden">
      <img
        src={project.mainImage}
        alt={project.title}
        class="absolute inset-0 w-full h-full object-cover"
      />
      <!-- Gradient Overlay -->
      <div class="absolute inset-0 bg-gradient-to-b from-black/70 via-black/30 to-transparent"></div>

      <!-- Content - Bottom Left -->
      <div class="absolute bottom-[60px] left-0 right-0">
        <div class="w-full max-w-[1761px] mx-auto px-[151px]">
          <p class="text-[32px] font-light text-white mb-3" style="letter-spacing: -1.6px;">
            {project.category}
          </p>
          <h1 class="text-[80px] font-light text-white leading-[1]" style="letter-spacing: -4px;">
            {project.title}
          </h1>
        </div>
      </div>
    </section>

    <!-- Project Details Section -->
    <section class="py-16 bg-white">
      <div class="w-full max-w-[1761px] mx-auto px-[151px]">
        <div class="flex gap-12">
          <!-- Left Column - Images -->
          <div class="w-[55%] flex-shrink-0 space-y-6">
            {project.images.map((image) => (
              <img
                src={image}
                alt={project.title}
                class="w-full h-auto aspect-square object-cover rounded-lg"
              />
            ))}
          </div>

          <!-- Right Column - Project Info -->
          <div class="flex-1 sticky top-[130px] self-start">
            <!-- Description -->
            <div class="mb-10">
              <h2 class="text-[14px] font-medium text-[#888888] uppercase tracking-wider mb-4">
                Deskripsi Proyek
              </h2>
              <p class="text-[18px] font-normal text-[#333333] leading-[1.7]">
                {project.description}
              </p>
            </div>

            <!-- Divider -->
            <div class="w-full h-[1px] bg-[#e5e5e5] mb-8"></div>

            <!-- Project Meta Info -->
            <div class="grid grid-cols-2 gap-x-8 gap-y-6">
              <!-- Kategori -->
              <div>
                <p class="text-[13px] font-medium text-[#888888] uppercase tracking-wider mb-2">Kategori</p>
                <p class="text-[16px] font-normal text-[#111111]">{project.category_tag}</p>
              </div>

              <!-- Klien -->
              <div>
                <p class="text-[13px] font-medium text-[#888888] uppercase tracking-wider mb-2">Klien</p>
                <p class="text-[16px] font-normal text-[#111111]">{project.client}</p>
              </div>

              <!-- Lokasi -->
              <div>
                <p class="text-[13px] font-medium text-[#888888] uppercase tracking-wider mb-2">Lokasi</p>
                <p class="text-[16px] font-normal text-[#111111]">{project.location}</p>
              </div>

              <!-- Tahun -->
              <div>
                <p class="text-[13px] font-medium text-[#888888] uppercase tracking-wider mb-2">Tahun</p>
                <p class="text-[16px] font-normal text-[#111111]">{project.year}</p>
              </div>

              <!-- Budget -->
              <div>
                <p class="text-[13px] font-medium text-[#888888] uppercase tracking-wider mb-2">Budget</p>
                <p class="text-[16px] font-normal text-[#111111]">{project.budget}</p>
              </div>

              <!-- Layanan -->
              <div class="col-span-2">
                <p class="text-[13px] font-medium text-[#888888] uppercase tracking-wider mb-2">Layanan</p>
                <ul class="text-[16px] font-normal text-[#111111] space-y-1">
                  {project.services.map((service) => (
                    <li class="flex items-center gap-2">
                      <span class="w-1.5 h-1.5 bg-[#0096f7] rounded-full"></span>
                      {service}
                    </li>
                  ))}
                </ul>
              </div>
            </div>

            <!-- CTA Button -->
            <div class="mt-10">
              <a
                href="https://wa.me/6285398989810?text=Halo%20SJD%20Interior%2C%20saya%20tertarik%20dengan%20proyek%20seperti%20ini."
                target="_blank"
                rel="noopener noreferrer"
                class="inline-flex items-center justify-center gap-2 px-8 py-4 text-[16px] font-medium text-white bg-black rounded-full hover:bg-[#333333] transition-colors"
              >
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/>
                </svg>
                Konsultasi Proyek Serupa
              </a>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Related Projects Section -->
    <section class="py-20 bg-white">
      <div class="w-full max-w-[1761px] mx-auto px-[151px]">
        <!-- Title -->
        <div class="text-center mb-16">
          <p class="text-[36px] font-light text-[#848484] mb-4" style="letter-spacing: -1.8px;">
            Proyek Selanjutnya
          </p>
          <h2 class="text-[128px] font-light text-black" style="letter-spacing: -6.4px;">
            Design yang Berkesan
          </h2>
        </div>

        <!-- Portfolio Cards Grid -->
        <div class="grid grid-cols-3 gap-5 mb-12">
          {relatedProjects.map((portfolio) => (
            <PortfolioCard {...portfolio} />
          ))}
        </div>

        <!-- Button -->
        <div class="text-center">
          <a
            href="/portfolio"
            class="inline-flex items-center justify-center px-10 py-4 text-[21.41px] font-medium text-[#272727] border-2 border-[#272727] rounded-full hover:bg-[#272727] hover:text-white transition-all duration-300"
          >
            Lihat semua Portfolio
          </a>
        </div>
      </div>
    </section>

    <!-- FAQ Section -->
    <FAQSection />

    <!-- Testimonials Section (same as home page) -->
    <section class="py-24 bg-white overflow-hidden">
      <div class="w-full max-w-[1761px] mx-auto px-[151px] mb-16">
        <h2 class="text-[70px] font-light text-black text-center" style="letter-spacing: -3.50px;">
          Apa kata mereka tentang SJD Interior
        </h2>
      </div>

      <!-- Testimonials Carousel with Fade -->
      <div class="relative">
        <!-- Left Fade -->
        <div class="absolute left-0 top-0 bottom-0 w-[150px] bg-gradient-to-r from-white to-transparent z-10 pointer-events-none"></div>
        <!-- Right Fade -->
        <div class="absolute right-0 top-0 bottom-0 w-[150px] bg-gradient-to-l from-white to-transparent z-10 pointer-events-none"></div>

        <!-- Infinite Scroll Track -->
        <div class="flex testimonial-scroll">
          <div class="flex gap-6 animate-scroll">
            {[...testimonials, ...testimonials].map((testimonial) => (
              <div class="flex-shrink-0 w-[400px] h-[260px] bg-[#fafafa] border border-[#e8e8e8] rounded-[20px] p-8 flex flex-col transition-all duration-300 hover:shadow-lg hover:border-[#d0d0d0]">
                <!-- Star Rating -->
                <div class="flex gap-1 mb-4">
                  {[...Array(5)].map((_, i) => (
                    <svg class={`w-4 h-4 ${i < testimonial.rating ? 'text-[#FFB800]' : 'text-[#E0E0E0]'}`} fill="currentColor" viewBox="0 0 20 20">
                      <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                    </svg>
                  ))}
                </div>

                <!-- Review Text - Italic -->
                <p class="text-[16px] font-light text-[#444444] leading-relaxed italic flex-1">
                  "{testimonial.text}"
                </p>

                <!-- Bottom Section - Always at bottom -->
                <div class="mt-auto pt-4">
                  <!-- Divider -->
                  <div class="w-8 h-[1px] bg-[#e0e0e0] mb-3"></div>
                  <!-- Name -->
                  <p class="text-[15px] font-medium text-black">{testimonial.name}</p>
                </div>
              </div>
            ))}
          </div>
        </div>
      </div>
    </section>

    <!-- CTA Section -->
    <CTASection />
  </main>

  <Footer />
</BaseLayout>

<style>
  /* Infinite scroll animation */
  @keyframes scroll {
    0% {
      transform: translateX(0);
    }
    100% {
      transform: translateX(-50%);
    }
  }

  .animate-scroll {
    animation: scroll 60s linear infinite;
  }

  .animate-scroll:hover {
    animation-play-state: paused;
  }
</style>

