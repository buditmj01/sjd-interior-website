---
import { getStats } from '../../lib/getStats';

const statsData = await getStats();
const statsAttributes = statsData?.attributes || {};

// Convert stats1-4 object structure to array
const statsArray = [
  statsAttributes.stats1,
  statsAttributes.stats2,
  statsAttributes.stats3,
  statsAttributes.stats4,
].filter(Boolean); // Remove null/undefined entries
---

<div class="border-t border-[#e5e5e5] pt-12 grid grid-cols-4 gap-6">
  {statsArray.slice(0, 4).map((stat) => (
    <div class="border-2 border-black rounded-[35px] p-6 text-center flex flex-col items-center justify-center w-full aspect-square">
      <p class="text-[56px] font-light text-black mb-2" style="letter-spacing: -3.95px;">
        {stat.value}
      </p>
      <p class="text-[18px] font-light text-black" style="letter-spacing: -1.4px;">
        {stat.label}
      </p>
    </div>
  ))}
</div>
