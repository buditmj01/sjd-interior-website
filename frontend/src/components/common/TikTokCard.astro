---
interface Props {
  caption: string;
  views: string;
  thumbnail: string;
  url: string;
}

const { caption, views, thumbnail, url } = Astro.props;
---

<a href={url} target="_blank" rel="noopener noreferrer" class="group block h-full">
  <div class="relative overflow-hidden rounded-[20px] aspect-[9/16] bg-gray-900">
    <!-- Thumbnail Image -->
    <img
      src={thumbnail}
      alt={caption}
      class="w-full h-full object-cover transition-all duration-700 ease-[cubic-bezier(0.25,0.1,0.25,1)] group-hover:scale-105 opacity-90 group-hover:opacity-100"
    />

    <!-- Gradient Overlay (Bottom) -->
    <div class="absolute inset-x-0 bottom-0 h-1/2 bg-gradient-to-t from-black/90 via-black/40 to-transparent transition-opacity duration-500"></div>

    <!-- Play Icon Overlay (Center - shows on hover) -->
    <div class="absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all duration-500 scale-75 group-hover:scale-100">
      <div class="w-14 h-14 bg-white/20 backdrop-blur-md rounded-full flex items-center justify-center border border-white/30">
        <svg class="w-6 h-6 text-white ml-1" fill="currentColor" viewBox="0 0 24 24">
          <path d="M8 5v14l11-7z" />
        </svg>
      </div>
    </div>

    <!-- Content Overlay -->
    <div class="absolute inset-x-0 bottom-0 p-5 flex flex-col justify-end">
       <!-- Play Count (Always visible, similar to reference) -->
       <div class="flex items-center gap-1.5 text-white/90 mb-2">
         <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
           <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"></path>
           <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
         </svg>
         <span class="text-[14px] font-semibold tracking-wide">{views}</span>
       </div>

      <!-- Caption (Truncated) -->
      <p class="text-[14px] md:text-[15px] leading-snug text-white font-medium line-clamp-2 opacity-90 transition-all duration-300 group-hover:opacity-100 group-hover:-translate-y-1">
        {caption}
      </p>
    </div>
  </div>
</a>
