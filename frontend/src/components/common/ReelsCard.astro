---
interface Props {
  caption: string;
  views: string;
  thumbnail: string;
  url: string;
}

const { caption, views, thumbnail, url } = Astro.props;
---

<a href={url} target="_blank" rel="noopener noreferrer" class="group block h-full">
  <div class="relative overflow-hidden rounded-[20px] aspect-[9/16] bg-gray-900 border border-black/5">
    <!-- Thumbnail Image -->
    <img
      src={thumbnail}
      alt={caption}
      class="w-full h-full object-cover transition-all duration-700 ease-[cubic-bezier(0.25,0.1,0.25,1)] group-hover:scale-105 opacity-90 group-hover:opacity-100"
    />

    <!-- Gradient Overlay (Bottom) -->
    <div class="absolute inset-x-0 bottom-0 h-1/2 bg-gradient-to-t from-black/90 via-black/40 to-transparent transition-opacity duration-500"></div>

    <!-- Reels Icon Overlay (Top Right) -->
    <div class="absolute top-4 right-4 text-white/90 drop-shadow-md">
      <svg class="w-6 h-6" viewBox="0 0 24 24" fill="currentColor">
        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-2-3.5l6-4.5-6-4.5v9z"/> 
      </svg>
    </div>

    <!-- Center Play Button (On Hover) -->
    <div class="absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all duration-500 scale-75 group-hover:scale-100">
      <div class="w-14 h-14 bg-white/20 backdrop-blur-md rounded-full flex items-center justify-center border border-white/30">
        <svg class="w-6 h-6 text-white ml-1" fill="currentColor" viewBox="0 0 24 24">
          <path d="M8 5v14l11-7z" />
        </svg>
      </div>
    </div>

    <!-- Content Overlay -->
    <div class="absolute inset-x-0 bottom-0 p-5 flex flex-col justify-end">
       <!-- View Count -->
       <div class="flex items-center gap-1.5 text-white/90 mb-2">
         <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
           <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
           <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/>
         </svg>
         <span class="text-[13px] font-medium tracking-wide">{views}</span>
       </div>

      <!-- Caption -->
      <p class="text-[14px] leading-snug text-white font-medium line-clamp-2 opacity-90 transition-all duration-300 group-hover:opacity-100 group-hover:-translate-y-1">
        {caption}
      </p>
    </div>
  </div>
</a>
