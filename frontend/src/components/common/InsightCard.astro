---
interface Props {
  title: string;
  author: string;
  authorPhoto?: string;
  date: string;
  category: string;
  image: string;
  slug: string;
}

const { title, author, authorPhoto, date, category, image, slug } = Astro.props;
---

<article class="group h-full">
  <a href={`/insight/${slug}`} class="block h-full flex flex-col">
    <!-- Image Container - optimized aspect ratio for 2-column mobile -->
    <div class="overflow-hidden rounded-t-[12px] md:rounded-t-[14px] aspect-[4/3] md:aspect-[471/317]">
      <img
        src={image}
        alt={title}
        class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"
      />
    </div>

    <!-- Content Container - flexible height with proper spacing -->
    <div class="bg-white border border-black/50 rounded-b-[12px] md:rounded-b-[14px] p-3 md:p-6 lg:p-8 flex flex-col justify-between flex-1">
      <div class="flex-1">
        <!-- Author -->
        <div class="flex items-center gap-1.5 md:gap-3 mb-2 md:mb-3 lg:mb-4">
          <div class="w-[18px] h-[18px] md:w-[24px] md:h-[24px] lg:w-[28px] lg:h-[28px] rounded-full bg-gray-100 overflow-hidden flex-shrink-0">
            {authorPhoto ? (
              <img src={authorPhoto} alt={author} class="w-full h-full object-cover" />
            ) : (
              <svg class="w-full h-full" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle cx="14" cy="14" r="13" stroke="#969696" stroke-width="1.5"/>
                <circle cx="14" cy="11" r="4.5" stroke="#969696" stroke-width="1.5"/>
                <path d="M5.5 24C5.5 20.134 8.63401 17 12.5 17H15.5C19.366 17 22.5 20.134 22.5 24" stroke="#969696" stroke-width="1.5"/>
              </svg>
            )}
          </div>
          <span class="text-[9px] md:text-[11.5px] lg:text-[13.18px] font-normal text-[#969696] leading-tight truncate">
            {author}
          </span>
        </div>

        <!-- Title - optimized for 2-column mobile -->
        <h3 class="text-[13px] md:text-[21px] lg:text-[26.49px] font-light text-[#222222] leading-[1.35] md:leading-[1.25] lg:leading-[1.235] tracking-tight md:tracking-[-0.8px] lg:tracking-[-1.32px] line-clamp-3 mb-2 md:mb-3">
          {title}
        </h3>
      </div>

      <!-- Category & Date - optimized spacing for mobile -->
      <div class="flex flex-col md:flex-row md:flex-wrap items-start md:items-center gap-1.5 md:gap-3 lg:gap-4 mt-auto pt-2">
        <div class="flex items-center justify-center px-[6px] py-[3px] md:px-[8px] md:py-[6px] lg:px-[10px] lg:py-[8px] border md:border-[1.5px] lg:border-2 border-[#5e5151] rounded-full">
          <span class="text-[8px] md:text-[11px] lg:text-[12.31px] font-medium text-black leading-none uppercase">
            {category}
          </span>
        </div>
        <span class="text-[9px] md:text-[13px] lg:text-[16.66px] font-light text-[#2b2b2b] leading-tight">
          {date}
        </span>
      </div>
    </div>
  </a>
</article>
