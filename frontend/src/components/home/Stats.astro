---
// Statistics section
import { getStats } from '../../lib/getStats';
import StatsIsland from './StatsIsland.tsx';

const statsData = await getStats();
const statsAttributes = statsData?.attributes || {};

// Convert stats1-4 object structure to array
const statsArray = [
  statsAttributes.stats1,
  statsAttributes.stats2,
  statsAttributes.stats3,
  statsAttributes.stats4,
].filter(Boolean); // Remove null/undefined entries

const stats = statsArray.map(stat => ({
  number: stat.value,
  label: stat.label
}));
---

<!-- Stats Island - Hydrates only when visible for maximum performance -->
<StatsIsland stats={stats} client:visible />